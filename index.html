

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    
    </head>
<header>
  <nav class="navbar navbar-expand-lg bg-dark border-bottom border-bottom-dark">
      <div class="container-fluid">
        <h1 style="color:white;">E Movies</h1>
        
        </div>
      </div>
    </nav>
  </header>
    
<body>
  <main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
  integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
  </script>
    <nav class="navbar navbar-expand-lg bg-body-tertiary bg-light ">
      <div class="container-fluid">
        <a class="button " href="javascript:getTrendingmovies();">&ensp;</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
              
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active text-dark" aria-current="page" href="javascript:getMovies();">Movies</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark" href="javascript:getShows();">TV Shows</a>
          </li>
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle text-dark" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Top Rated
            </a>
            <ul class="dropdown-menu">
                <li> <a class="dropdown-item text-dark" href="javascript:getTopRatedM();">Movies</a></li>
             <li> <a class="dropdown-item text-dark" href="javascript:getTopRated();">Tv Shows</a></li>
             
            </ul>
          </li>
        </ul>
        <form class="d-flex" role="search"  style="margin-left: 300px;">
          
          <input class="form-control me-2" id="search" type="search" placeholder="Search" aria-label="Search">
          <button class="btn text-dark"   id="searchbtn" type="button"><i class="bi bi-search">search</i></button>
          
        </form>
      </div>
    </div>
  </nav>
  
  <div id="carouselSlidesOnly" class="carousel slide" data-bs-ride="carousel" data-interval="200">
    <div class="carousel-inner">
      <div class="carousel-item active" >
        <img src="c:\Users\user\Documents\movie\1.jpg"style="height:450px" class="d-block w-100" >
      </div>
      <div class="carousel-item">
        <img src="c:\Users\user\Documents\movie web\2.jpg" style="height:450px"class="d-block w-100" >
      </div>
      <div class="carousel-item">
        <img src="c:\Users\user\Documents\movie\1212750.jpg" style="height:450px"class="d-block w-100" >
      </div>
      <div class="carousel-item">
        <img src="c:\Users\user\Documents\movie web\4.jpg" style="height:450px"class="d-block w-100" >
      </div>
      
      
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

    

  <section class="container">
        <div class="col-12 py-5 text-dark"><div class="d-flex justify-content-center">
            <div id="moviesList" class="row" style="margin-left: 2rem;">
    
            </div>
        </div>
        </div>
    </section>
  </main>   
    
    
  <script>
        let container1 = document.getElementById('moviesList');
    let searchbtn = document.getElementById('searchbtn');
    window.addEventListener("DOMContentLoaded", getTrendingmovies);
    
    
    function getTrendingmovies() {
        container1.innerHTML = ``;
        
        let header=document.createElement('h4');
        header.className="header";
        header.innerHTML=`<i class="fa fa-line-chart" aria-hidden="true"></i> Trending Movies`;
        header.style=`color:black;margin-bottom:2rem;`
        container1.appendChild(header);
        fetch('https://api.themoviedb.org/3/trending/movie/day?api_key=4f5a2a1eeec3b5a6ac3428c6cf5634ab')
        .then((response) => response.json()).then((response) =>{
            arr = response;
            console.log(arr);
            
            for (let i = 0; i < 1000; i++) {
                
                let card = document.createElement('div');
                card.style = 'style="width: 16rem;opacity:70%';
                card.setAttribute('class', 'col-lg-3 col-md-3 col-sm-3 m-3  card bg-dark text-light');
                
                let img = document.createElement('img');
                img.classList.add('card-img-top');
                img.src = `https://image.tmdb.org/t/p/w500/${arr.results[i].poster_path}`;
                img.style='height:12rem;';
                
                let title = document.createElement('h5');
                title.setAttribute('class', 'card-title');
                title.classList.add('text-center');
                title.textContent = arr.results[i].title;
                
                let description = document.createElement('h6');
                description.setAttribute('class', 'card-text text-light');
                description.innerHTML=`<i class="bi bi-star"></i> ${arr.results[i].vote_average} &ensp; `;
                description.style="font-size:13px;text-align:center;"
                
                let detail = document.createElement('input');
                detail.classList.add('btn');
                detail.type='button';
                detail.value='More';
                detail.style='width:5rem;background:#FFC107;margin: 0 auto; border: 0; font-size: 11px; font-weight: 600; line-height: 2.5;  outline: transparent; padding: 0 1rem; text-align: center;color:black;border-radius:7px;margin-top:0.5em;';
                detail.setAttribute('data-bs-title','Overview') ;
                detail.setAttribute('data-bs-custom-class','custom-popover');
                detail.setAttribute('data-bs-trigger','focus');
                detail.setAttribute('data-bs-content',`${arr.results[i].overview}`);
                detail.setAttribute('data-bs-toggle','popover')
                
                let cardbody=document.createElement('div');
                cardbody.classList.add('card-body');
                
                card.appendChild(img);
                card.appendChild(title);
                card.appendChild(cardbody);cardbody.appendChild(description);
                cardbody.appendChild(detail);
                const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
                const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))
                
                container1.append(card);
            }
        }).catch((error) => {
            console.log('Error:', error);
        });
        document.body.appendChild(trademark);
    }
    function getMovies() {
        container1.innerHTML = ``;
        
        let header=document.createElement('h4');
        header.className="header";
        header.innerHTML=`<i class="fa fa-binoculars" aria-hidden="true"></i> Movies`;
        header.style=`color:black;margin-bottom:3rem;`;
        container1.appendChild(header)
        
        fetch('https://api.themoviedb.org/3/movie/popular?api_key=4f5a2a1eeec3b5a6ac3428c6cf5634ab')
        .then((response) => response.json()).then((response) =>{
            arr = response;
            console.log(arr);
            
            for (let i = 0; i < 1000; i++) {
                let card = document.createElement('div');
                card.style = 'style="width: 16rem;opacity:80%';
                card.setAttribute('class', 'col-lg-3 col-md-3 col-sm-3 m-3  card bg-dark text-light');
                
                let img = document.createElement('img');
                img.classList.add('card-img-top');
                img.src = `https://image.tmdb.org/t/p/w500/${arr.results[i].poster_path}`;
                img.style='height:11rem;';

                
                let title = document.createElement('h5');
                title.setAttribute('class', 'card-title');
                title.classList.add('text-center');
                title.textContent = arr.results[i].title;
                let description = document.createElement('h6');
                description.setAttribute('class', 'card-text text-light');
                description.style="font-size:13px;text-align:center;";
                description.innerHTML=`<i class="bi bi-star"></i> ${arr.results[i].vote_average}&ensp;   `;
                
                let cardbody=document.createElement('div');
                cardbody.classList.add('card-body');
                
                let detail = document.createElement('input');
                detail.classList.add('btn');
                detail.type='button';
                detail.value='More';
                detail.style='width:5rem;background:#FFC107;margin: 0 auto; border: 0; font-size: 11px; font-weight: 600; line-height: 2.5;  outline: transparent; padding: 0 1rem; text-align: center;color:black;border-radius:10px;margin-top:0.5em;';
                detail.setAttribute('data-bs-title','Overview');
                detail.setAttribute('data-bs-custom-class','custom-popover');
                detail.setAttribute('data-bs-trigger','focus');
                detail.setAttribute('data-bs-content',`${arr.results[i].overview}`);
                detail.setAttribute('data-bs-toggle','popover');
                
                card.appendChild(img);
                card.appendChild(title);
                card.appendChild(cardbody);
                cardbody.appendChild(description);
                cardbody.appendChild(detail);
                const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
                const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl));
                container1.append(card);
            }
        }).catch((error) => {
            console.log('Error:', error);
        }); 
    }
    function getTopRated() {
        container1.innerHTML = ``;
        let header=document.createElement('h4');
        header.className="header";
        header.innerHTML=`<i class="fa fa-star" aria-hidden="true"></i> Top Rated Tv Shows`;
        header.style=`color:black;margin-bottom:2rem;`;
        container1.appendChild(header)
        
        fetch('https://api.themoviedb.org/3/tv/top_rated?api_key=4f5a2a1eeec3b5a6ac3428c6cf5634ab')
        .then((response) => response.json()).then((response) =>{
            arr = response;
            console.log(arr);
            
            for (let i = 0; i < 1000; i++) {
                let card = document.createElement('div');
                card.style = 'style="width: 16rem;opacity:70%';
                card.setAttribute('class', 'col-lg-3 col-md-3 col-sm-3 m-3  card bg-dark text-light');
                
                let img = document.createElement('img');
                img.classList.add('card-img-top');
                img.src = `https://image.tmdb.org/t/p/w500/${arr.results[i].poster_path}`;
                img.style='height:12rem;';

                
                let title = document.createElement('h5');
                title.setAttribute('class', 'card-title');
                title.classList.add('text-center');
                title.textContent = arr.results[i].title;
                
                let description = document.createElement('h6');
                description.setAttribute('class', 'card-text text-light');
                description.innerHTML=`<i class="bi bi-star"></i> ${arr.results[i].vote_average} &ensp;   `;
                description.style="font-size:13px;text-align:center;";
                
                let detail = document.createElement('input');
                detail.classList.add('btn');
                detail.type='button';
                detail.value='More';
                detail.style='width:5rem;background:#FFC107;margin: 0 auto; border: 0; font-size: 11px; font-weight: 600; line-height: 2.5;  outline: transparent; padding: 0 1rem; text-align: center;color:black;border-radius:7px;margin-top:0.5em;';
                detail.setAttribute('data-bs-title','Overview');
                detail.setAttribute('data-bs-custom-class','custom-popover');
                detail.setAttribute('data-bs-trigger','focus');
                detail.setAttribute('data-bs-content',`${arr.results[i].overview}`);
                detail.setAttribute('data-bs-toggle','popover');
                
                let cardbody=document.createElement('div');
                cardbody.classList.add('card-body');
                
                card.appendChild(img);
                card.appendChild(title);
                card.appendChild(cardbody);
                cardbody.appendChild(description);cardbody.appendChild(detail);
                const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
                const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))
                container1.append(card);
            }
        }).catch((error) => {
            console.log('Error:', error);
        }); 
    }
    
    function getTopRatedM () {
        container1.innerHTML = ``;
        
        let header=document.createElement('h4');
        header.className="header";
        header.innerHTML=`<i class="fa fa-star" aria-hidden="true"></i> Top Rated Movies`;
        header.style=`color:black;margin-bottom:2rem;`;
        container1.appendChild(header);
        fetch('https://api.themoviedb.org/3/movie/top_rated?api_key=4f5a2a1eeec3b5a6ac3428c6cf5634ab')
        .then((response) => response.json()).then((response) =>{
            arr = response;
            console.log(arr);
            
            for (let i = 0; i < 1000; i++) {
                let card = document.createElement('div');
                card.style = 'style="width: 16rem;opacity:70%';
                card.setAttribute('class', 'col-lg-3 col-md-3 col-sm-3 m-3  card bg-dark text-light');
                let img = document.createElement('img');
                img.classList.add('card-img-top');
                img.src = `https://image.tmdb.org/t/p/w500/${arr.results[i].poster_path}`;
                img.style='height:12rem;';

                
                let title = document.createElement('h5');
                title.setAttribute('class', 'card-title');
                title.classList.add('text-center');
                title.textContent = arr.results[i].title;
                
                let description = document.createElement('h6');
                description.setAttribute('class', 'card-text text-light');
                description.innerHTML=`<i class="bi bi-star"></i> ${arr.results[i].vote_average} &ensp;   `;
                description.style="font-size:13px;text-align:center;";
                
                let detail = document.createElement('input');
                detail.classList.add('btn');
                detail.type='button';
                detail.value='More';
                detail.style='width:5rem;background:#FFC107;margin: 0 auto; border: 0; font-size: 11px; font-weight: 600; line-height: 2.5;  outline: transparent; padding: 0 1rem; text-align: center;color:black;border-radius:7px;margin-top:0.5em;';
                detail.setAttribute('data-bs-title','Overview') ;
                detail.setAttribute('data-bs-custom-class','custom-popover');
                detail.setAttribute('data-bs-trigger','focus');
                detail.setAttribute('data-bs-content',`${arr.results[i].overview}`);
                detail.setAttribute('data-bs-toggle','popover');
                
                let cardbody=document.createElement('div');
                cardbody.classList.add('card-body');
                
                card.appendChild(img);
                card.appendChild(title);
                card.appendChild(cardbody);
                cardbody.appendChild(description);
                cardbody.appendChild(detail);
                const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
                const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl));
                
                container1.append(card)
            }
        }).catch((error) => {
            console.log('Error:', error);
        });
    }
    
    
    function getShows() {
        container1.innerHTML = ``;
        
        let header=document.createElement('h4');
        header.className="header";
        header.innerHTML=`<i class="bi bi-tv"></i> Popular Tv Shows`;
        header.style=`color:black;margin-bottom:2rem;`;
        container1.appendChild(header);
        
        fetch('https://api.tvmaze.com/shows?page=1')
        .then((response) => response.json()).then((response) =>{
            arr = response;
            console.log(arr)
            
            for (let i = 0; i < arr.length; i++) {
                let card = document.createElement('div');
                card.style = 'style="width: 16rem;opacity:70%';
                card.setAttribute('class', 'col-lg-2 col-md-2 col-sm- m2-2  card bg-dark text-light');
                
                let img = document.createElement('img');
                img.classList.add('card-img-top');
                img.src = arr[i].image.medium;
                img.style='height:12rem;'

                let title = document.createElement('h5');
                title.setAttribute('class', 'card-text');
                title.textContent = arr[i].name;
                
                let description = document.createElement('p');
                description.setAttribute('class', 'card-text text-light');
                description.innerHTML=`<i class="bi bi-star"></i> ${arr[i].rating.average} &ensp; `;
                description.style="font-size:13px;text-align:center;";
                
                let cardbody=document.createElement('div');
                cardbody.classList.add('card-body');
                
                let detail = document.createElement('input');
                detail.classList.add('btn');
                detail.type='button';
                detail.value='More';
                detail.style='width:5rem;background:#FFC107;margin: 0 auto; border: 0; font-size: 11px; font-weight: 600; line-height: 2.5;  outline: transparent; padding: 0 1rem; text-align: center;color:black;border-radius:7px;margin-top:0.5em;';
                detail.setAttribute('data-bs-title','Details') ;
                detail.setAttribute('data-bs-custom-class','custom-popover');
                detail.setAttribute('data-bs-trigger','focus');
                detail.setAttribute('data-bs-content',`Premiered: ${arr[i].premiered} Genre: ${arr[i].genres}`);
                detail.setAttribute('data-bs-toggle','popover')
                
                card.appendChild(img);
                card.appendChild(title);
                card.appendChild(cardbody);
                cardbody.appendChild(description);
                cardbody.appendChild(detail);
                const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
                const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl));
                
                container1.append(card);
            }
        }).catch((error) => {
            console.log('Error:', error);
        });       
    }
    searchbtn.onclick = async () => {
        container1.innerHTML = ``;
        
        let header=document.createElement('h5');
        header.className="header";
        header.style=`color:white;margin-bottom:2rem;`;
        container1.appendChild(header);
        
        const searchTerm = document.querySelector('#search').value;
        header.innerHTML=`Search results for '${searchTerm}' `;
        console.log(searchTerm);
        const response = await fetch(`https://www.omdbapi.com/?s='${searchTerm}'&apikey=e49250b6&page=1`);
        
        if(!response.ok) {
            console.log('error')
        }
        
        const json = await response.json();
        console.log(json);
        if(json.Error=="Movie not found!"){
            container1.innerHTML=`
            <p style='color:red;font-size:30px;text-align:center;'><i class="bi bi-emoji-frown"></i> Sorry Movie not found!</p>
            <p style='color:red;font-size:18px;text-align:center;'><i class="bi bi-dot"></i>Try making sure there is no whitespace at the end of your query</p>
            <p style='color:red;font-size:18px;text-align:center;'><i class="bi bi-dot"></i>Check the spelling of your query</p>`;
            return;
        }
        
        for (let i = 0; i < json.Search.length; i++) {
            const movie = json.Search[i];
            container1.innerHTML += `
                <div class="col-3 card m-2 bg-dark" style="height=10rem;width:16rem;">
                    <div class="card-header">
                        <img src="${movie.Poster}" alt="${movie.Title}" width="200" height="300">
                        <h5 class="mt=3 text-light">${movie.Title}</h5>
                        <p class="mt=3 text-warning"><i class="bi bi-file"></i> ${movie.Year}  &ensp; <i class="bi bi-clock"></i> ${movie.Type}</p>
                    </div>
                    <div class="card-body">
                    </div>
                </div>`;
            }
        }
   
  

   </script>
  
  

</body>
</html>